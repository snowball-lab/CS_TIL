# 인터럽트

- CPU가 다른 프로그램을 실행하고 있을 때, __입출력 하드웨어__ 혹은 소프트웨어에 의해 **예외상황**이 발생하여 처리가 필요한 경우에 CPU에게 이를 알려주는 것
- 진행 중이던 작업은 `PCB(Process Control Block: 프로세스 제어 블록)`에 저장



### 인터럽트 종류

- 하드웨어 인터럽트
  - 일반적으로 하드웨어 장치의 컨트롤러가 CPU의 서비스를 요청하기 위해 발생시킴
  - 운영체제의 타이머(Timer) 인터럽트
    - 각 프로그램들이 공평한 시간동안 CPU를 할당받을 수 있도록 세팅된 사용시간이 종료되면 인터럽트를 발생시킴

![하드웨어 인터럽트](https://user-images.githubusercontent.com/19829388/112152335-88b25800-8c25-11eb-886d-ad21a840036c.png)

> 그림 1. 하드웨어 인터럽트 발생 과정

- 소프트웨어 인터럽트
  - 예외상황
    - 프로그램이 허용되지 않은 연산을 수행하려고 할 때 자동적으로 발생
    - 예시 : 0으로 나누기, 권한 없는 메모리 참조 등
  - 시스템 콜
    - 프로세스가 커널의 함수를 호출하는 경우 발생하는 인터럽트

![소프트웨어 인터럽트](https://user-images.githubusercontent.com/19829388/112152376-92d45680-8c25-11eb-8735-e274a99a1779.png)

> 그림 2. 소프트웨어 인터럽트 발생 과정



### 인터럽트 처리

CPU는 **인터럽트 라인**을 통해 인터럽트를 확인, **인터럽트 벡터**와 **인터럽트 핸들러**를 통해 인터럽트 처리.

- 인터럽트 벡터

  인터럽트 종류에 따라 처리해야 할 루틴의 주소를 담고 있는 테이블

- 인터럽트 핸들러 (인터럽트 서비스 루틴)

  실제 인터럽트를 처리하기 위한 루틴